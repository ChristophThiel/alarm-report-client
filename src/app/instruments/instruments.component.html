<div class="container">
  <form [formGroup]="form">
    <mat-form-field appearance="outline" fxFlex>
      <mat-label>Fahrzeuge</mat-label>
      <mat-select multiple (selectionChange)="alarm.vehicles = $event.value" [value]="alarm.vehicles">
        <mat-option *ngFor="let vehicle of vehicles" [value]="vehicle">{{vehicle}}</mat-option>
      </mat-select>
    </mat-form-field>
  </form>

  <form #directive="ngForm" fxLayout="row" fxHide.lt-lg (submit)="onSubmit(directive)" [formGroup]="form">
    <mat-form-field appearance="outline" class="left" fxFlex="60">
      <mat-label>Gerätename</mat-label>
      <input formControlName="name" matInput>
      <mat-error>Feld wird benötigt</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="center is-center" fxFlex="20">
      <mat-label>Anzahl</mat-label>
      <input formControlName="amount" matInput placeholder="0" type="number">
      <mat-error>Feld wird benötigt</mat-error>
    </mat-form-field>

    <button class="form-submit-button fix-button right" color="accent" fxFlex="20" mat-stroked-button
      type="submit">Hinzufügen</button>
  </form>

  <!-- Same solution as used in team.component.html -->
  <form fxLayout="column" [formGroup]="form">
    <mat-form-field *ngIf="alarm.devices.length !== 0" appearance="outline" floatLabel="always" fxFlex>
      <mat-label>Geräte</mat-label>
      <mat-chip-list #chipList>
        <mat-chip *ngFor="let device of alarm.devices" (removed)="remove(device)">
          {{device.amount}}x {{device.name}}
          <mat-icon matChipRemove svgIcon="cancel"></mat-icon>
        </mat-chip>
      </mat-chip-list>
    </mat-form-field>
  </form>
</div>

<button mat-fab fxShow.md fxHide.gt-md class="fab-button" (click)="openDialog()">
  <mat-icon svgIcon="add"></mat-icon>
</button>